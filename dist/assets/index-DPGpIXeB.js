import{r as e,a as t,g as r,c as s,b as a,R as n}from"./vendor-Bn_8TBxt.js";import{E as o}from"./pdf-nueoZWQs.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var i,l,d={exports:{}},c={};var u,m=(l||(l=1,d.exports=function(){if(i)return c;i=1;var t=e(),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,n=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,s){var i,l={},d=null,c=null;for(i in void 0!==s&&(d=""+s),void 0!==t.key&&(d=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,i)&&!o.hasOwnProperty(i)&&(l[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===l[i]&&(l[i]=t[i]);return{$$typeof:r,type:e,key:d,ref:c,props:l,_owner:n.current}}return c.Fragment=s,c.jsx=l,c.jsxs=l,c}()),d.exports),g={};const p=r(function(){if(u)return g;u=1;var e=t();return g.createRoot=e.createRoot,g.hydrateRoot=e.hydrateRoot,g}());function h(e,t){let r;try{r=e()}catch(s){return}return{getItem:e=>{var t;const s=e=>null===e?null:JSON.parse(e,void 0),a=null!=(t=r.getItem(e))?t:null;return a instanceof Promise?a.then(s):s(a)},setItem:(e,t)=>r.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>r.removeItem(e)}}const x=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then:e=>x(e)(r),catch(e){return this}}}catch(r){return{then(e){return this},catch:e=>x(e)(r)}}},b=(e,t)=>(r,s,a)=>{let n={storage:h((()=>localStorage)),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},o=!1;const i=new Set,l=new Set;let d=n.storage;if(!d)return e(((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${n.name}', the given storage is currently unavailable.`),r(...e)}),s,a);const c=()=>{const e=n.partialize({...s()});return d.setItem(n.name,{state:e,version:n.version})},u=a.setState;a.setState=(e,t)=>{u(e,t),c()};const m=e(((...e)=>{r(...e),c()}),s,a);let g;a.getInitialState=()=>m;const p=()=>{var e,t;if(!d)return;o=!1,i.forEach((e=>{var t;return e(null!=(t=s())?t:m)}));const a=(null==(t=n.onRehydrateStorage)?void 0:t.call(n,null!=(e=s())?e:m))||void 0;return x(d.getItem.bind(d))(n.name).then((e=>{if(e){if("number"!=typeof e.version||e.version===n.version)return[!1,e.state];if(n.migrate){const t=n.migrate(e.state,e.version);return t instanceof Promise?t.then((e=>[!0,e])):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]})).then((e=>{var t;const[a,o]=e;if(g=n.merge(o,null!=(t=s())?t:m),r(g,!0),a)return c()})).then((()=>{null==a||a(g,void 0),g=s(),o=!0,l.forEach((e=>e(g)))})).catch((e=>{null==a||a(void 0,e)}))};return a.persist={setOptions:e=>{n={...n,...e},e.storage&&(d=e.storage)},clearStorage:()=>{null==d||d.removeItem(n.name)},getOptions:()=>n,rehydrate:()=>p(),hasHydrated:()=>o,onHydrate:e=>(i.add(e),()=>{i.delete(e)}),onFinishHydration:e=>(l.add(e),()=>{l.delete(e)})},n.skipHydration||p(),g||m},f=[{id:"carne",name:"Carne (Picanha)",suggested:300,suggestedPerPerson:300,unit:"kg",price:45,adjustedQuantity:300,ageMultipliers:{adulto:1.2,"criança":.5}},{id:"pao",name:"Pão de Alho",suggested:2,suggestedPerPerson:2,unit:"un",price:1.5,adjustedQuantity:2},{id:"refri",name:"Refrigerante",suggested:500,suggestedPerPerson:500,unit:"ml",price:8,adjustedQuantity:500}],y=s()(b(((e,t)=>({peopleCount:10,items:f,demographics:{ageGroups:{children:0,teens:0,adults:0,seniors:0},genders:{male:0,female:0,other:0}},ageMultipliers:{children:.7,teens:.9,adults:1,seniors:1.3},genderMultipliers:{male:1.2,female:.9,other:1},serializeState:()=>{const e=t();return btoa(JSON.stringify({peopleCount:e.peopleCount,items:e.items,demographics:e.demographics,ageMultipliers:e.ageMultipliers,genderMultipliers:e.genderMultipliers}))},deserializeState:t=>{try{const r=JSON.parse(atob(t));e({peopleCount:r.peopleCount,items:r.items,demographics:r.demographics,ageMultipliers:r.ageMultipliers,genderMultipliers:r.genderMultipliers})}catch(r){console.error("Erro ao decodificar estado:",r)}},generateShareableLink:()=>`${window.location.origin}${window.location.pathname}?state=${t().serializeState()}`,setPeopleCount:t=>e({peopleCount:Math.max(1,t)}),setItemQuantity:(t,r)=>e((e=>({items:e.items.map((e=>e.id===t?{...e,adjustedQuantity:r}:e))}))),setItemPrice:(t,r)=>e((e=>({items:e.items.map((e=>e.id===t?{...e,price:r}:e))}))),setDemographics:(t,r,s)=>{e((e=>{const a=Math.max(0,s),n={...e.demographics[t]},o=Object.values(n).reduce(((e,t)=>e+t),0),i=Math.min(a,e.peopleCount-(o-(n[r]||0)));return{demographics:{...e.demographics,[t]:{...n,[r]:i}}}}))},total:()=>t().items.reduce(((e,t)=>e+t.adjustedQuantity*(t.price||0)),0),addCustomItem:t=>e((e=>({items:[...e.items,t]}))),deleteItem:t=>e((e=>({items:e.items.filter((e=>e.id!==t))}))),theme:"light",toggleTheme:()=>e((e=>({theme:"light"===e.theme?"dark":"light"})))})),{name:"churrasco-storage",storage:h((()=>localStorage))}));function j({isOpen:e,onConfirm:t,onCancel:r,title:s="Confirmar ação",message:n="Tem certeza que deseja realizar esta ação?"}){return a.useEffect((()=>{document.body.style.overflow=e?"hidden":"auto"}),[e]),e?m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:m.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[m.jsx("h3",{className:"text-lg font-semibold mb-4",children:s}),m.jsx("p",{className:"text-gray-600 mb-6",children:n}),m.jsxs("div",{className:"flex justify-end gap-3",children:[m.jsx("button",{onClick:r,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:"Cancelar"}),m.jsx("button",{onClick:t,className:"px-4 py-2 bg-red-500 text-white hover:bg-red-600 rounded-lg",children:"Confirmar"})]})]})}):null}function v(){const{items:e,peopleCount:t,demographics:r,setItemQuantity:s,setItemPrice:n,deleteItem:o,ageMultipliers:i,genderMultipliers:l}=y(),[d,c]=a.useState(null);a.useMemo((()=>e.reduce(((e,t)=>e+u(t)),0)),[e,r]);const u=e=>{const s=Object.entries(r.ageGroups).reduce(((e,[t,r])=>e+r*(i[t]||1)),0)+Object.entries(r.genders).reduce(((e,[t,r])=>e+r*(l[t]||1)),0);return e.suggestedPerPerson*(s/Math.max(1,t))};return m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[m.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-6 flex justify-between items-center",children:["Itens do Churrasco",m.jsxs("span",{className:"text-sm font-normal text-gray-500",children:[e.length," itens listados"]})]}),m.jsx("div",{className:"space-y-6",children:e.map((e=>m.jsxs("div",{className:"border-b border-gray-200 pb-6 last:border-0",children:[m.jsxs("div",{className:"flex justify-between items-start mb-2",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("h3",{className:"text-lg font-medium text-gray-700",children:e.name}),m.jsx("button",{onClick:()=>c(e.id),className:"text-red-500 hover:text-red-700 text-sm",title:"Remover item",children:"×"})]}),m.jsxs("span",{className:"text-sm text-gray-500",children:["Sugerido: ",u(e).toFixed(2)," ",e.unit]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsx("div",{children:m.jsxs("label",{className:"block text-sm text-gray-600 mb-2",children:["Quantidade (",e.unit,")",m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{className:"p-2 rounded-full bg-gray-100 hover:bg-gray-200",onClick:()=>s(e.id,Math.max(0,e.adjustedQuantity-1)),children:"-"}),m.jsx("input",{type:"number",value:e.adjustedQuantity,readOnly:!0,className:"w-16 text-center border-gray-300 rounded"}),m.jsx("button",{className:"p-2 rounded-full bg-gray-100 hover:bg-gray-200",onClick:()=>s(e.id,e.adjustedQuantity+1),children:"+"})]})]})}),m.jsx("div",{children:m.jsxs("label",{className:"block text-sm text-gray-600 mb-2",children:["Preço Unitário (R$)",m.jsx("input",{type:"number",value:e.price||"",onChange:t=>n(e.id,Number(t.target.value)),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2",min:"0",step:"0.01"})]})}),m.jsx("div",{className:"flex items-end",children:m.jsxs("span",{className:"text-lg font-semibold text-gray-700",children:["Subtotal: R$ ",(e.adjustedQuantity*e.price).toFixed(2)]})})]})]},e.id)))})]}),m.jsx(j,{isOpen:!!d,onConfirm:()=>{d&&(o(d),c(null))},onCancel:()=>c(null),title:"Remover item",message:"Tem certeza que deseja remover este item permanentemente?"})]})}function N(){const{peopleCount:e,total:t,items:r,demographics:s}=y(),a=t(),n=e>0?a/e:0;return m.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 sticky bottom-0",children:m.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[m.jsxs("div",{className:"text-center md:text-left",children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Total Estimado"}),m.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["R$ ",a.toFixed(2)]}),m.jsxs("p",{className:"text-sm text-gray-600",children:["(",e," pessoa",1!==e?"s":""," • R$ ",n.toFixed(2)," por pessoa)"]})]}),m.jsxs("div",{className:"flex gap-4 flex-wrap justify-center",children:[m.jsx("button",{className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",onClick:()=>window.print(),children:"Imprimir Lista"}),m.jsx("button",{className:"px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",onClick:async()=>{const t=new o,i=await fetch("/churrasco-logo.svg").then((e=>e.blob())).then((e=>new Promise((t=>{const r=new FileReader;r.onloadend=()=>t(r.result),r.readAsDataURL(e)}))));t.addImage(i,"SVG",15,10,30,30),t.setFontSize(18),t.setFont("helvetica","bold"),t.text("Lista do Churrasco",50,25),t.setFontSize(12),t.setFont("helvetica","normal"),t.text(`Participantes: ${e} pessoa${1!==e?"s":""}`,15,45);let l=55;t.setFillColor(240,240,240),t.rect(15,l,180,10,"F"),t.text("Item",15,l+7),t.text("Quantidade",100,l+7),t.text("Valor",150,l+7),l+=15,r.forEach((e=>{e.adjustedQuantity>0&&(t.text(e.name,15,l),t.text(`${e.adjustedQuantity} ${e.unit}`,100,l),t.text(`R$ ${(e.adjustedQuantity*e.price).toFixed(2)}`,150,l),l+=10)})),t.setFontSize(12),t.text("Distribuição Etária:",15,60),Object.entries(s.ageGroups).forEach((([r,s],a)=>{s>0&&t.text(`${r}: ${s} (${(s/e*100).toFixed(1)}%)`,20,65+5*a)})),t.text("Distribuição de Gênero:",15,85),Object.entries(s.genders).forEach((([r,s],a)=>{s>0&&t.text(`${r}: ${s} (${(s/e*100).toFixed(1)}%)`,20,90+5*a)})),l=105,t.setFontSize(14),t.setFont("helvetica","bold"),t.text(`Total: R$ ${a.toFixed(2)}`,15,l+15),t.text(`Custo por pessoa: R$ ${n.toFixed(2)}`,15,l+25),t.setFontSize(10),t.setTextColor(100),t.text("Gerado por Churrasco Calculator - churrascocalculator.com",15,280),t.save("lista-churrasco.pdf")},children:"Gerar PDF"})]})]})})}function w(){const{theme:e,toggleTheme:t}=y();return m.jsx("button",{onClick:t,className:"p-2 rounded-full bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:"light"===e?"🌙":"☀️"})}function C(){const{generateShareableLink:e}=y();return m.jsx("button",{onClick:async()=>{const t=e();try{await navigator.clipboard.writeText(t),alert("Link copiado para a área de transferência! Cole e compartilhe.")}catch(r){prompt("Copie o link abaixo:",t)}},className:"bg-green-500 text-white p-2 rounded-md hover:bg-green-600 transition-colors ml-4",children:"Compartilhar Churrasco"})}function k(){const{peopleCount:e,demographics:t,setDemographics:r}=y(),s=Object.values(t.ageGroups).reduce(((e,t)=>e+t),0),a=Object.values(t.genders).reduce(((e,t)=>e+t),0);return m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[(s!==e||a!==e)&&m.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 mb-4",children:m.jsxs("p",{className:"text-sm text-red-700",children:["A soma dos grupos demográficos (",s," pessoas) deve corresponder ao número total de participantes (",e,")"]})}),m.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:"Distribuição Demográfica"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-4",children:"Faixa Etária"}),m.jsx("div",{className:"space-y-3",children:[{label:"Crianças (0-12)",key:"children"},{label:"Adolescentes (13-17)",key:"teens"},{label:"Adultos (18-59)",key:"adults"},{label:"Idosos (60+)",key:"seniors"}].map((a=>m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("label",{className:"text-sm text-gray-600",children:a.label}),m.jsx("input",{type:"number",value:t.ageGroups[a.key],onChange:e=>{const t=Math.max(0,Math.min(100,Number(e.target.value)||0));r("ageGroups",a.key,t)},onBlur:()=>{Object.values(t.ageGroups).reduce(((e,t)=>e+t),0)!==e&&r("ageGroups",a.key,t.ageGroups[a.key])},className:"w-20 px-2 py-1 border rounded-md text-sm "+(s!==e?"border-red-500":""),min:"0",step:"1"})]},a.key)))})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-4",children:"Gênero"}),m.jsx("div",{className:"space-y-3",children:[{label:"Masculino",key:"male"},{label:"Feminino",key:"female"},{label:"Outro",key:"other"}].map((s=>m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("label",{className:"text-sm text-gray-600",children:s.label}),m.jsx("input",{type:"number",value:t.genders[s.key],onChange:e=>{const t=Math.max(0,Math.min(100,Number(e.target.value)||0));r("genders",s.key,t)},onBlur:()=>{Object.values(t.genders).reduce(((e,t)=>e+t),0)!==e&&r("genders",s.key,t.genders[s.key])},className:"w-20 px-2 py-1 border rounded-md text-sm "+(a!==e?"border-red-500":""),min:"0",step:"1"})]},s.key)))})]})]})]})}function P(){const[e,t]=a.useState({name:"",suggested:0,suggestedPerPerson:0,unit:"un",price:0}),{addCustomItem:r}=y();return m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Adicionar Item Personalizado"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[m.jsx("input",{type:"text",placeholder:"Nome do item",value:e.name,onChange:r=>t({...e,name:r.target.value}),className:"p-2 border rounded-md"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("input",{type:"number",value:e.suggested||"",onChange:r=>t({...e,suggested:Number(r.target.value),suggestedPerPerson:Number(r.target.value)}),className:"w-full p-2 border rounded-md",placeholder:"Qtd por pessoa",min:"0",step:"0.1"}),m.jsxs("select",{value:e.unit,onChange:r=>t({...e,unit:r.target.value}),className:"p-2 border rounded-md",children:[m.jsx("option",{value:"un",children:"un"}),m.jsx("option",{value:"kg",children:"kg"}),m.jsx("option",{value:"l",children:"l"})]})]}),m.jsx("input",{type:"number",value:e.price||"",onChange:r=>t({...e,price:Number(r.target.value)}),className:"p-2 border rounded-md",placeholder:"Preço unitário",min:"0",step:"0.01"}),m.jsx("button",{onClick:()=>{e.name&&e.suggested>0&&(r({...e,id:Math.random().toString(36).substr(2,9),adjustedQuantity:Math.round(e.suggestedPerPerson*y.getState().peopleCount),suggestedPerPerson:e.suggestedPerPerson}),t({name:"",suggested:0,suggestedPerPerson:0,unit:"un",price:0}))},className:"bg-blue-500 text-white p-2 rounded-md hover:bg-blue-600 transition-colors",children:"Adicionar Item"})]})]})}function S(){return m.jsx("div",{className:"min-h-screen bg-gray-50 text-gray-900",children:m.jsxs("div",{className:"max-w-2xl mx-auto py-8 px-4",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsx("h1",{className:"text-3xl font-bold",children:"Churrasco Planner"}),m.jsx(w,{})]}),m.jsx(k,{}),m.jsx(P,{}),m.jsx(v,{}),m.jsx(N,{}),m.jsx("div",{className:"flex justify-end mt-6",children:m.jsx(C,{})})]})})}const I=document.getElementById("root");if(!I)throw new Error("Root element not found");p.createRoot(I).render(m.jsx(n.StrictMode,{children:m.jsx(S,{})}));
